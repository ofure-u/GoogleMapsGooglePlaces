def secretsFile = new File(getRootDir().getAbsolutePath() + "/secrets.properties")

def readProperty(String key, File file) {
    Properties props = new Properties()
    try {
        props.load(new FileInputStream(file))
        return props.getProperty(key)
    } catch (FileNotFoundException fnfe) {
        println("Specified file not found, please ensure it's in the root folder of the project")
    }
    return null
}

ext.secrets = [
        "keyAlias": readProperty("key_alias", secretsFile),
        "keyPassword": readProperty("key_password", secretsFile),
        "storeFile": readProperty("store_file", secretsFile),
        "storePassword": readProperty("store_password", secretsFile)
]